<!doctype html>
<head>
  <style>
    body {
      background: blue;
      color: #fff;
    }
    pre {
      color: black;
      background: white;
    }
  </style>
</head>
<body>
  <div role="main">
    <h1>Module Loader Polyfill</h1>
    <p>Check the console in your browser developer tools! This code is currently loaded in the page:</p>
    <pre>
  &lt;script src="../lib/es6-module-loader.js">&lt;/script>
  &lt;script type="module">
    import { hello } from 'test1';
    console.log(hello); // -> world

    // es6 syntax
    var a, b;
    [a, b] = [1, 2];
    console.log(a); // 1
  &lt;/script>
    </pre>
    <p>Click on the button below and this function will be run:</p>
    <pre>
  &lt;script>
    function buttonClick() {
      // dynamic loading API
      System.import('test2').then(function(module) {
        new module.Foo();
      });
    }
  &lt;/script>
    </pre>
    <button onclick="buttonClick()">Load test2</button>
    <p>Note that if you click on the button again, a new Foo module will be created, but 'test2' will not be reloaded.</p>

    <button onclick="sourceMapClick()">Load source1</button>
  </div>
  <footer>
  </footer>

  <script src="../lib/traceur.js"></script>
  <script src="../tmp/es6-module-loader.js"></script>
  <script type="module">
    import { hello } from 'test1';
    console.log(hello); // -> world

    // es6 syntax
    var a, b;
    [a, b] = [1, 2];
    console.log(a); // -> 1
  </script>
  <script>
    function buttonClick() {
      // dynamic loading API
      System.import('test2').then(function(module) {
        new module.Foo();
      });
    }

    function sourceMapClick() {
      // dynamic loading API
      System.import('source1').then(function(module) {
        module.things.updateThing('1', 1);
      });
    }
  </script>
</body>
</html>
